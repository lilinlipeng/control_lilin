{"version":3,"file":"index.js","sources":["pages/Front/HealthIndicatorList.vue","store/index.js"],"sourcesContent":["<template>\n    <view>\n        <!-- 导航栏 -->\n        <uni-nav-bar dark :fixed=\"true\" shadow background-color=\"var(--primary-color)\" status-bar  title=\"健康指标\" />\n\n        <!-- 页面内容 -->\n        <view class=\"page-content\">\n            <!-- 顶部入口区域 -->\n            <view class=\"entry-section\">\n                <!-- 左侧卡片容器 -->\n                <view class=\"left-cards\">\n                    <!-- 官方选择指标入口 -->\n                    <view class=\"entry-card primary\" @click=\"goToOfficialIndicators\">\n                        <!-- 卡片图标 -->\n                        <view class=\"entry-icon\">\n                            <image :src=\"selectIcon\" mode=\"aspectFit\" class=\"icon-image\"></image>\n                        </view>\n                        <!-- 卡片内容 -->\n                        <view class=\"entry-content\">\n                            <view class=\"entry-title\">官方选择指标</view>\n                            <view class=\"entry-subtitle\">从官方推荐的健康指标中选择</view>\n                        </view>\n                        <!-- 箭头图标(按设计去掉) -->\n                        <!-- <view class=\"entry-arrow\">\n                            <uni-icons type=\"arrowright\" size=\"14\" :color=\"themeColor\"></uni-icons>\n                        </view> -->\n                    </view>\n\n                    <!-- 自主添加指标入口 -->\n                    <view class=\"entry-card secondary\" @click=\"goToCustomIndicators\">\n                        <!-- 卡片图标 -->\n                        <view class=\"entry-icon\">\n                            <image :src=\"addIcon\" mode=\"aspectFit\" class=\"icon-image\"></image>\n                        </view>\n                        <!-- 卡片内容 -->\n                        <view class=\"entry-content\">\n                            <view class=\"entry-title\">自主添加指标</view>\n                            <view class=\"entry-subtitle\">创建个性化的健康指标</view>\n                        </view>\n                        <!-- 箭头图标(按设计去掉) -->\n                        <!-- <view class=\"entry-arrow\">\n                            <uni-icons type=\"arrowright\" size=\"14\" :color=\"themeColor\"></uni-icons>\n                        </view> -->\n                    </view>\n                </view>\n\n                <!-- 右侧大卡片：我的填写记录 -->\n                <view class=\"entry-card tertiary large-card\" @click=\"goToMyRecords\">\n                    <!-- 卡片图标 -->\n                    <view class=\"entry-icon\">\n                        <image :src=\"recordIcon\" mode=\"aspectFit\" class=\"icon-image\"></image>\n                    </view>\n                    <!-- 卡片内容 -->\n                    <view class=\"entry-content\">\n                        <view class=\"entry-title\">我的记录</view>\n                        <view class=\"entry-subtitle\">查看历史健康数据记录</view>\n                    </view>\n                    <!-- 箭头图标 -->\n                    <!-- <view class=\"entry-arrow\">\n                        <uni-icons type=\"arrowright\" size=\"18\" :color=\"themeColor\"></uni-icons>\n                    </view> -->\n                </view>\n            </view>\n\n            <!-- 健康指标列表区域 -->\n            <view v-if=\"UserHealthIndicatorTypeList.length > 0\" class=\"indicator-section\">\n                <!-- 标题和操作区域 -->\n                <view class=\"section-header\">\n                    <view class=\"section-title\">\n                        <uni-icons type=\"bars\" size=\"18\" :color=\"themeColor\"></uni-icons>\n                        <text class=\"title-text\">我的健康指标</text>\n                    </view>\n\n                    <!-- 操作按钮 -->\n                    <view class=\"section-actions\">\n                        <button v-if=\"!isSelectionMode\" class=\"action-btn select-btn\" @click=\"toggleSelectionMode\">\n                            <uni-icons type=\"checkmarkempty\" size=\"14\" color=\"#ffffff\"></uni-icons>\n                            <text class=\"btn-text\">选择指标</text>\n                        </button>\n                        <button v-else class=\"action-btn cancel-btn\" @click=\"toggleSelectionMode\">\n                            <uni-icons type=\"close\" size=\"14\" color=\"#ffffff\"></uni-icons>\n                            <text class=\"btn-text\">取消</text>\n                        </button>\n                    </view>\n                </view>\n\n                <!-- 选择状态提示 -->\n                <view v-if=\"isSelectionMode\" class=\"selection-status\">\n                    <view class=\"status-info\">\n                        <uni-icons type=\"info\" size=\"16\" :color=\"themeColor\"></uni-icons>\n                        <text class=\"status-text\">已选择 {{ selectedIndicators.length }} 项指标</text>\n                    </view>\n                    <button v-if=\"selectedIndicators.length > 0\" class=\"batch-record-btn\" @click=\"goToBatchRecord\">\n                        <uni-icons type=\"compose\" size=\"14\" color=\"#ffffff\"></uni-icons>\n                        <text class=\"btn-text\">批量录入数据</text>\n                    </button>\n                </view>\n\n                <!-- 指标分类列表 -->\n                <view v-for=\"(category, categoryIndex) in UserHealthIndicatorTypeList\" :key=\"category.Id\"\n                    class=\"category-wrapper\">\n                    <!-- 分类标题 -->\n                    <view class=\"category-header\" @click=\"toggleCategory(category.Id)\">\n                        <view class=\"category-title\">{{ category.Name }}</view>\n                        <view class=\"category-right\">\n                        <view class=\"category-count\">{{ category.HealthIndicatorDtoList.length }}项指标</view>\n                            <view class=\"category-toggle\">\n                                <uni-icons :type=\"isCategoryExpanded(category.Id) ? 'arrowup' : 'arrowdown'\" size=\"18\" color=\"#888888\"></uni-icons>\n                            </view>\n                        </view>\n                    </view>\n\n                    <!-- 指标列表 -->\n                    <view class=\"indicators-grid\" v-show=\"isCategoryExpanded(category.Id)\">\n                        <view v-for=\"(indicator, indicatorIndex) in category.HealthIndicatorDtoList\" :key=\"indicator.Id\"\n                            class=\"indicator-card\"\n                            :class=\"{ 'selected': isIndicatorSelected(indicator.Id), 'selection-mode': isSelectionMode }\"\n                            @click=\"goToIndicatorDetail(indicator)\">\n                            <!-- 选择状态指示器 -->\n                            <view v-if=\"isSelectionMode\" class=\"selection-indicator\">\n                                <view class=\"checkbox\" :class=\"{ 'checked': isIndicatorSelected(indicator.Id) }\">\n                                    <uni-icons v-if=\"isIndicatorSelected(indicator.Id)\" type=\"checkmarkempty\" size=\"16\"\n                                        color=\"#ffffff\"></uni-icons>\n                                </view>\n                            </view>\n\n                            <!-- 指标图标 -->\n                            <view class=\"indicator-icon\">\n                                <image v-if=\"indicator.Cover\" :src=\"indicator.Cover\" class=\"icon-image\" mode=\"aspectFit\">\n                                </image>\n                                <uni-icons v-else type=\"pulse\" size=\"24\" :color=\"themeColor\"></uni-icons>\n                            </view>\n\n                            <!-- 指标信息 -->\n                            <view class=\"indicator-info\">\n                                <view class=\"indicator-name\">{{ indicator.Name }}</view>\n                                <view class=\"indicator-threshold\">正常值: {{ indicator.Threshold }}</view>\n                                <view class=\"indicator-content\">{{ indicator.Content }}</view>\n                            </view>\n\n                            <!-- 箭头 -->\n                            <view v-if=\"!isSelectionMode\" class=\"indicator-arrow\">\n                                <uni-icons type=\"arrowright\" size=\"14\" color=\"#cccccc\"></uni-icons>\n                            </view>\n                        </view>\n                    </view>\n                </view>\n            </view>\n\n            <!-- 空状态 -->\n            <view v-else class=\"empty-state\">\n                <view class=\"empty-icon\">\n                    <uni-icons type=\"list\" size=\"60\" color=\"#cccccc\"></uni-icons>\n                </view>\n                <view class=\"empty-text\">暂无健康指标</view>\n                <view class=\"empty-subtitle\">点击上方按钮添加您的第一个健康指标</view>\n            </view>\n\n        </view>\n\n        <footer-bar />\n    </view>\n</template>\n\n<script setup>\n\nimport { useCommonStore } from '@/store';\nimport { Post } from '@/utils/http';\nimport { onLoad, onReady, onShow } from \"@dcloudio/uni-app\";\nimport { computed, reactive, ref } from 'vue';\n\n// 导入图片资源\nimport selectIcon from \"@/assets/选择.png\";\nimport addIcon from \"@/assets/添加.png\";\nimport recordIcon from \"@/assets/记录.png\";\n\n// 获取store\nconst commonStore = useCommonStore();\nconst Token = computed(() => commonStore.Token)\nconst UserInfo = computed(() => commonStore.UserInfo)\nconst RoleType = computed(() => commonStore.RoleType)\nconst UserId = computed(() => commonStore.UserId)\n\n// 主题色变量\nconst themeColor = ref('var(--primary-color)')\n\n\n\nconst TestInfoList = ref([]);\n\nconst where = reactive({\n\n});\n\n// 生命周期钩子\nonLoad(async (option) => {\n});\nonShow(async () => {\n\n    GetUserHealthIndicatorTypeListApi();\n});\n\nonReady(async () => {\n\n\n});\nconst UserHealthIndicatorTypeList = ref([]);\n// 清单管理\nconst selectedIndicators = ref([]); // 已选择的指标清单\nconst isSelectionMode = ref(false); // 是否在选择模式\n\n// 分类展开/收起状态\nconst expandedCategoryMap = ref({});\n\n//得到用户的指标分类\nconst GetUserHealthIndicatorTypeListApi = async () => {\n    let {\n        Data: {\n            Items\n        }\n    } = await Post('/HealthIndicatorType/UserHealthIndicatorList', {\n        BelongUserId: UserId.value\n    });\n    UserHealthIndicatorTypeList.value = Items;\n\n    // 初始化或合并分类的展开状态，默认展开\n    const nextMap = { ...expandedCategoryMap.value };\n    Items.forEach(item => {\n        if (nextMap[item.Id] === undefined) {\n            nextMap[item.Id] = true;\n        }\n    });\n    expandedCategoryMap.value = nextMap;\n}\n\n//移除指标\nconst UserRemoveIndicatorApi = async (Id) => {\n    let { Success } = await Post('/HealthIndicator/UserRemoveIndicator', {\n        Id: Id\n    });\n    if (Success) {\n        await GetUserHealthIndicatorTypeListApi();\n    }\n}\n\n\n\n// 跳转到健康指标归类页面\nconst goToHealthCategory = () => {\n\n    uni.navigateTo({\n        url: '/pages/Front/HealthIndicatorTypeList'\n    });\n};\n\n// 跳转到官方选择指标页面\nconst goToOfficialIndicators = () => {\n    uni.navigateTo({\n        url: '/pages/Front/CommHealthIndicatorTypeList'\n    });\n};\n\n// 跳转到自主添加指标页面\nconst goToCustomIndicators = () => {\n    uni.navigateTo({\n        url: '/pages/Front/HealthIndicatorForm?Id='\n    });\n};\n\n// 跳转到我的填写记录页面\nconst goToMyRecords = () => {\n    uni.navigateTo({\n        url: '/pages/Front/HealthIndicatorRecordList'\n    });\n};\n\n// 跳转到指标详情页面\nconst goToIndicatorDetail = (indicator) => {\n    if (isSelectionMode.value) {\n        // 在选择模式下，点击切换选择状态\n        toggleIndicatorSelection(indicator);\n    } else {\n        // 正常模式下显示操作选择框\n        showActionModal(indicator);\n    }\n};\n\n// 切换指标选择状态\nconst toggleIndicatorSelection = (indicator) => {\n    const index = selectedIndicators.value.findIndex(item => item.Id === indicator.Id);\n    if (index > -1) {\n        // 已选择，移除\n        selectedIndicators.value.splice(index, 1);\n    } else {\n        // 未选择，添加\n        selectedIndicators.value.push({\n            Id: indicator.Id,\n            Name: indicator.Name,\n            HealthIndicatorTypeId: indicator.HealthIndicatorTypeId,\n            HealthIndicatorTypeName: getUserIndicatorTypeName(indicator.HealthIndicatorTypeId),\n            Threshold: indicator.Threshold,\n            Content: indicator.Content,\n            Cover: indicator.Cover\n        });\n    }\n};\n\n// 检查指标是否已选择\nconst isIndicatorSelected = (indicatorId) => {\n    return selectedIndicators.value.some(item => item.Id === indicatorId);\n};\n\n// 获取指标分类名称\nconst getUserIndicatorTypeName = (typeId) => {\n    const type = UserHealthIndicatorTypeList.value.find(item => item.Id === typeId);\n    return type ? type.Name : '';\n};\n\n// 切换选择模式\nconst toggleSelectionMode = () => {\n    isSelectionMode.value = !isSelectionMode.value;\n    if (!isSelectionMode.value) {\n        // 退出选择模式时清空选择\n        selectedIndicators.value = [];\n    }\n};\n\n// 切换分类展开/收起\nconst toggleCategory = (categoryId) => {\n    const current = expandedCategoryMap.value[categoryId];\n    expandedCategoryMap.value = {\n        ...expandedCategoryMap.value,\n        [categoryId]: !current\n    };\n};\n\n// 分类是否展开\nconst isCategoryExpanded = (categoryId) => {\n    return !!expandedCategoryMap.value[categoryId];\n};\n\n// 跳转到批量录入页面\nconst goToBatchRecord = () => {\n    if (selectedIndicators.value.length === 0) {\n        uni.showToast({\n            title: '请先选择指标',\n            icon: 'none'\n        });\n        return;\n    }\n\n    // 将选择的指标数据传递到录入页面\n  uni.setStorageSync('selectedIndicators', JSON.stringify(selectedIndicators.value));\n    uni.navigateTo({\n    url: `/pages/Front/BatchRecordForm?`\n    });\n};\n// 显示操作选择框\nconst showActionModal = (indicator) => {\n    uni.showActionSheet({\n        itemList: ['编辑指标', '删除指标'],\n        itemColor: '#333333',\n        success: (res) => {\n            if (res.tapIndex === 0) {\n                // 编辑指标\n                editIndicator(indicator);\n            } else if (res.tapIndex === 1) {\n                // 删除指标\n                confirmDeleteIndicator(indicator);\n            }\n        }\n    });\n};\n\n// 编辑指标\nconst editIndicator = (indicator) => {\n    uni.navigateTo({\n        url: `/pages/Front/HealthIndicatorForm?Id=${indicator.Id}`\n    });\n};\n\n// 确认删除指标\nconst confirmDeleteIndicator = (indicator) => {\n    uni.showModal({\n        title: '确认删除',\n        content: `确定要删除指标\"${indicator.Name}\"吗？此操作不可恢复。`,\n        confirmText: '删除',\n        confirmColor: '#F44336',\n        cancelText: '取消',\n        success: async (res) => {\n            if (res.confirm) {\n                try {\n                    await UserRemoveIndicatorApi(indicator.Id);\n                    uni.showToast({\n                        title: '删除成功',\n                        icon: 'success'\n                    });\n                } catch (error) {\n                    uni.showToast({\n                        title: '删除失败',\n                        icon: 'error'\n                    });\n                }\n            }\n        }\n    });\n};\n\nconst GetHealthIndicatorListApi = async () => {\n    let {\n        Data: {\n            Items\n        }\n    } = await Post('/HealthIndicator/List', where);\n    HealthIndicatorList.value = Items;\n}\n// 删除\nconst ShowDeleteModal = async (Id) => {\n    uni.showModal({\n        title: '提示',\n        content: '确认删除该测试信息吗？',\n        success: async (res) => {\n            if (res.confirm) {\n                const { Success } = await Post(`/HealthIndicator/Delete`, { Id: Id });\n                if (Success) {\n                    await GetHealthIndicatorListApi();\n                    uni.showToast({\n                        title: '删除成功',\n                        icon: 'success'\n                    });\n                }\n            }\n        }\n    })\n};\n\n</script>\n\n<style scoped lang=\"scss\">\n/* 页面内容区域 */\n.page-content {\n    padding: 10rpx 24rpx 160px;\n    min-height: 50vh;\n    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n    position: relative;\n\n    /* 添加一些光晕效果 */\n    &::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 400rpx;\n        background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(52, 211, 153, 0.05) 100%);\n        pointer-events: none;\n    }\n}\n\n/* 顶部入口区域 */\n.entry-section {\n    display: flex;\n    gap: 16rpx;\n    margin-bottom: 32rpx;\n}\n\n/* 左侧卡片容器 */\n.left-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 16rpx;\n    flex: 1;\n    flex: 6;\n}\n\n/* 入口卡片通用样式 */\n.entry-card {\n    display: flex;\n    align-items: center;\n    border-radius: 16rpx;\n    padding: 22rpx 24rpx;\n    background: #ffffff;\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n    border: 2rpx solid #f0f2f5;\n    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.06);\n\n    /* 删除毛玻璃底层，保持纯白卡片风格 */\n\n    /* 点击效果 */\n    &:active {\n        transform: scale(0.98);\n        opacity: 0.9;\n    }\n\n    /* 左侧小卡片样式 */\n    .left-cards & {\n        flex: 1;\n        min-height: 110rpx;\n    }\n\n    /* 大卡片样式 */\n    &.large-card {\n        flex: 1;\n        flex: 4;\n        min-height: 240rpx;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n    }\n\n    /* 主色调卡片 - 主题色边框 */\n    &.primary {\n        border-color: rgba(16, 185, 129, 0.35);\n    }\n\n    /* 副色调卡片 - 主题色边框 */\n    &.secondary {\n        border-color: rgba(16, 185, 129, 0.35);\n    }\n\n    /* 第三色调卡片 - 主题色边框 */\n    &.tertiary {\n        border-color: rgba(16, 185, 129, 0.35);\n    }\n}\n\n/* 入口图标容器 */\n.entry-icon {\n    width: 52rpx;\n    height: 52rpx;\n    background: rgba(255, 255, 255, 0.6);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 16rpx;\n    backdrop-filter: blur(10rpx);\n    flex-shrink: 0;\n    border: 1rpx solid rgba(16, 185, 129, 0.3);\n    box-shadow: 0 2rpx 8rpx rgba(16, 185, 129, 0.1);\n    transition: all 0.3s ease;\n    overflow: hidden;\n\n    &:hover {\n        transform: scale(1.1);\n    }\n\n    .icon-image {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n    }\n}\n\n/* 大卡片图标容器 */\n.large-card .entry-icon {\n    margin-right: 0;\n    margin-bottom: 14rpx;\n    width: 72rpx;\n    height: 72rpx;\n    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);\n}\n\n/* 入口内容区域 */\n.entry-content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n/* 大卡片内容区域 */\n.large-card .entry-content {\n    margin: 0;\n    text-align: center;\n}\n\n/* 入口主标题 */\n.entry-title {\n    font-size: 28rpx;\n    font-weight: 700;\n    color: var(--primary-color);\n    margin-bottom: 4rpx;\n    line-height: 1.3;\n}\n\n/* 大卡片主标题 */\n.large-card .entry-title {\n    font-size: 30rpx;\n    margin-bottom: 10rpx;\n}\n\n/* 入口副标题 */\n.entry-subtitle {\n    font-size: 22rpx;\n    color: #8a8f99;\n    line-height: 1.4;\n}\n\n/* 大卡片副标题 */\n.large-card .entry-subtitle {\n    font-size: 24rpx;\n}\n\n/* 入口箭头 */\n.entry-arrow {\n    margin-left: 12rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* 大卡片箭头 */\n.large-card .entry-arrow {\n    margin-left: 0;\n    margin-top: 16rpx;\n}\n\n\n\n/* 卡片图标容器 */\n.card-icon {\n    width: 80rpx;\n    height: 80rpx;\n    background: var(--primary-color);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 24rpx;\n    box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.3);\n}\n\n/* 卡片内容区域 */\n.card-content {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n}\n\n/* 卡片主标题 */\n.card-title {\n    font-size: 32rpx;\n    font-weight: 600;\n    color: #333333;\n    margin-bottom: 8rpx;\n    line-height: 1.4;\n}\n\n/* 卡片副标题 */\n.card-subtitle {\n    font-size: 26rpx;\n    color: #888888;\n    line-height: 1.5;\n}\n\n/* 卡片箭头 */\n.card-arrow {\n    margin-left: 16rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* 健康指标区域样式 */\n.indicator-section {\n    margin-top: 16rpx;\n}\n\n/* 标题和操作区域 */\n.section-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 20rpx;\n    padding: 0 4rpx;\n}\n\n.section-title {\n    display: flex;\n    align-items: center;\n}\n\n.title-text {\n    font-size: 32rpx;\n    font-weight: 600;\n    color: #333333;\n    margin-left: 12rpx;\n}\n\n.section-actions {\n    display: flex;\n    gap: 16rpx;\n}\n\n/* 选择状态提示 */\n.selection-status {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 16rpx 20rpx;\n    background-color: #ffffff;\n    border-radius: 16rpx;\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n    margin: 0 24rpx 16rpx 24rpx;\n}\n\n.status-info {\n    display: flex;\n    align-items: center;\n}\n\n.status-text {\n    font-size: 28rpx;\n    font-weight: 600;\n    color: #333333;\n    margin-left: 8rpx;\n}\n\n.batch-record-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 6rpx;\n    padding: 8rpx 16rpx;\n    border-radius: 24rpx;\n    font-size: 24rpx;\n    font-weight: 500;\n    color: #ffffff;\n    background-color: var(--primary-color);\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.3);\n    transition: background-color 0.3s ease;\n\n    &:active {\n        opacity: 0.9;\n    }\n}\n\n/* 操作按钮样式 */\n.action-btn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 6rpx;\n    padding: 8rpx 16rpx;\n    border-radius: 24rpx;\n    font-size: 24rpx;\n    font-weight: 500;\n    color: #ffffff;\n    background-color: var(--primary-color);\n    box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.3);\n    transition: all 0.3s ease;\n\n    &:active {\n        opacity: 0.9;\n    }\n\n    &.select-btn {\n        background: var(--primary-color);\n    }\n\n    &.clear-btn {\n        background: linear-gradient(135deg, #FF9800, #F57C00);\n    }\n\n    &.cancel-btn {\n        background: linear-gradient(135deg, #F44336, #D32F2F);\n    }\n}\n\n.btn-text {\n    font-size: 24rpx;\n    font-weight: 500;\n}\n\n/* 分类包装器 */\n.category-wrapper {\n    margin-bottom: 32rpx;\n}\n\n/* 分类标题区域 */\n.category-header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 20rpx 24rpx;\n    background: #ffffff;\n    border-radius: 16rpx 16rpx 0 0;\n    border-bottom: 2rpx solid #f0f0f0;\n}\n\n.category-title {\n    font-size: 28rpx;\n    font-weight: 600;\n    color: #333333;\n}\n\n.category-count {\n    font-size: 26rpx;\n    color: #888888;\n    font-weight: 500;\n}\n\n/* 分类右侧区域（数量 + 箭头） */\n.category-right {\n    display: flex;\n    align-items: center;\n    gap: 12rpx;\n}\n\n.category-toggle {\n    display: flex;\n    align-items: center;\n}\n\n/* 指标卡片 */\n.indicator-card {\n    display: flex;\n    align-items: center;\n    padding: 28rpx 24rpx;\n    border-bottom: 2rpx solid #f8f8f8;\n    transition: background-color 0.3s ease;\n\n    &:last-child {\n        border-bottom: none;\n    }\n\n    &:active {\n        background-color: #f8f8f8;\n    }\n\n    /* 选择模式下的样式 */\n    &.selection-mode {\n        background-color: rgba(16, 185, 129, 0.05);\n        border-bottom: 2rpx solid rgba(16, 185, 129, 0.1);\n    }\n\n    /* 已选择状态 */\n    &.selected {\n        background-color: rgba(16, 185, 129, 0.1);\n        border-bottom: 2rpx solid rgba(16, 185, 129, 0.2);\n    }\n}\n\n/* 选择状态指示器 */\n.selection-indicator {\n    position: absolute;\n    top: 24rpx;\n    left: 20rpx;\n    z-index: 1;\n}\n\n.checkbox {\n    width: 40rpx;\n    height: 40rpx;\n    border-radius: 50%;\n    border: 2rpx solid var(--primary-color);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #ffffff;\n\n    &.checked {\n        background-color: var(--primary-color);\n        border-color: var(--primary-color);\n    }\n}\n\n/* 指标图标容器 */\n.indicator-icon {\n    width: 80rpx;\n    height: 80rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: rgba(16, 185, 129, 0.05);\n    border-radius: 16rpx;\n    margin-right: 20rpx;\n}\n\n.icon-image {\n    width: 60rpx;\n    height: 60rpx;\n    border-radius: 12rpx;\n}\n\n/* 指标信息区域 */\n.indicator-info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n}\n\n.indicator-name {\n    font-size: 28rpx;\n    font-weight: 600;\n    color: #333333;\n    margin-bottom: 8rpx;\n    line-height: 1.4;\n}\n\n.indicator-threshold {\n    font-size: 24rpx;\n    color: var(--primary-color);\n    margin-bottom: 6rpx;\n    font-weight: 500;\n}\n\n.indicator-content {\n    font-size: 22rpx;\n    color: #666666;\n    line-height: 1.5;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n/* 指标箭头 */\n.indicator-arrow {\n    margin-left: 16rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n/* 空状态样式 */\n.empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 120rpx 40rpx;\n    text-align: center;\n}\n\n.empty-icon {\n    margin-bottom: 24rpx;\n    opacity: 0.6;\n}\n\n.empty-text {\n    font-size: 32rpx;\n    font-weight: 500;\n    color: #666666;\n    margin-bottom: 12rpx;\n}\n\n.empty-subtitle {\n    font-size: 26rpx;\n    color: #999999;\n    line-height: 1.5;\n}\n\n/* 指标网格布局 */\n.indicators-grid {\n    background: #ffffff;\n    border-radius: 0 0 16rpx 16rpx;\n    \n    overflow: hidden;\n}\n</style>","import { Post } from \"@/utils/http\";\n\nimport { defineStore } from \"pinia\";\n\nimport { GetLoginToken, RemoveLoginToken, SetLoginToken } from \"@/utils/cache\";\n\nimport UserIcon from \"@/assets/个人中心.png\";\nimport HomeIcon from \"@/assets/首页.png\";\nimport HealthIndicatorList from \"../pages/Front/HealthIndicatorList.vue\";\nimport HealthIndicatorIcon from \"@/assets/健康指标.png\";\n\n//  状态管理\nexport const useCommonStore = defineStore(\"common\", {\n  state: () => ({\n    // 初始状态\n    Token: GetLoginToken(),\n    UserInfo: null,\n    RoleType: undefined,\n    HasUserInfo: false,\n    FooterBarList: [\n      {\n        url: \"/pages/Front/Index\",\n        label: \"首 页\",\n        icon: HomeIcon,\n      },\n      {\n        url: \"/pages/Front/HealthIndicatorList\",\n        label: \"健康指标\",\n        icon: HealthIndicatorIcon,\n      },\n      \n      {\n        url: \"/pages/Front/UserCenter\",\n        label: \"个人中心\",\n        icon: UserIcon,\n      },\n    ],\n  }),\n  getters: {\n    UserId: (state) => state.UserInfo && state.UserInfo.Id,\n  },\n  actions: {\n    async Login(UserInfo) {\n      let res = await Post(\"/User/SignIn\", UserInfo);\n\n      if (res.Success) {\n        this.$patch({\n          Token: res.Data,\n        });\n        SetLoginToken(res.Data);\n      }\n\n      return res;\n    },\n    async GetInfo() {\n      let res = await Post(\"/User/GetByToken\", {});\n\n      this.$patch({\n        UserInfo: res.Data,\n        HasUserInfo: res.Data != null,\n        RoleType: res.Data.RoleTypeFormat,\n      });\n      return res;\n    },\n    /**\n     * 退出登录\n     */\n    async Logout() {\n      RemoveLoginToken();\n      uni.reLaunch({ url: \"/pages/Front/Login\" });\n      this.$patch({\n        Token: null,\n        UserInfo: null,\n        RoleType: null,\n        HasUserInfo: false,\n      });\n    },\n    resetState() {\n      this.$patch({\n        Token: null,\n        UserInfo: null,\n        RoleType: undefined,\n        HasUserInfo: false,\n      });\n      RemoveLoginToken();\n    },\n    /**\n     * 检查是否登录\n     * @returns {boolean}\n     */\n    CheckIsLogin() {\n      if (!this.Token) {\n        uni.reLaunch({ url: \"/pages/Front/Login\" });\n      }\n      return true;\n    },\n  },\n});\n"],"names":["computed","ref","reactive","onLoad","onShow","onReady","Post","uni","defineStore","GetLoginToken","HomeIcon","HealthIndicatorIcon","UserIcon","SetLoginToken","RemoveLoginToken"],"mappings":"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"}