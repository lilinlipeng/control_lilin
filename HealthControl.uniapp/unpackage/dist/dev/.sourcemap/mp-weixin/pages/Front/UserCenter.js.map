{"version":3,"file":"UserCenter.js","sources":["pages/Front/UserCenter.vue","../../HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvRnJvbnQvVXNlckNlbnRlci52dWU"],"sourcesContent":["<template>\n\t<view>\n\t\t<!-- 顶部导航栏 -->\n\t\t<uni-nav-bar dark :fixed=\"true\" shadow background-color=\"var(--primary-color)\" status-bar title=\"个人中心\" />\n\n\t\t<!-- 用户信息卡片 -->\n\t\t<view class=\"user-info-card\" @click=\"navigateTo('/pages/Front/UserInfoEdit')\">\n\t\t\t<view class=\"user-avatar-container\">\n\t\t\t\t<image class=\"user-avatar\" mode=\"aspectFill\" :src=\"UserInfo.ImageUrls || defaultHeadImage\"></image>\n\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t<view class=\"user-name\">{{ UserInfo.Name }}</view>\n\t\t\t\t\t<view class=\"user-role\">{{ UserInfo.RoleTypeFormat }}</view>\n\t\t\t\t\t<view class=\"user-openid-container\">\n\t\t\t\t\t\t<view class=\"user-openid bound\" v-if=\"UserInfo.OpenId\">\n\t\t\t\t\t\t\t<view class=\"status-dot bound-dot\"></view>\n\t\t\t\t\t\t\t<text class=\"status-text\">已绑定微信</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"user-openid unbound\" v-else>\n\t\t\t\t\t\t\t<view class=\"status-dot unbound-dot\"></view>\n\t\t\t\t\t\t\t<text class=\"status-text\">未绑定微信</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>                    \n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"arrow-icon\"></view>\n\t\t</view>\n\n\t\t<!-- 功能菜单卡片 -->\n\t\t<view class=\"function-menu-section\">\n\t\t\t<uni-card :is-shadow=\"false\" is-full margin=\"0\" padding=\"0\" spacing=\"0\">\n\t\t\t\t<uni-section class=\"section-header\" title=\"常用功能\" :sub-title=\"' '\" type=\"line\"\n\t\t\t\t\t:titleFontSize=\"28\"></uni-section>\n\n\t\t\t\t<uni-grid :column=\"3\" :square=\"true\" :showBorder=\"false\">\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/UserInfoEdit')\">\n\t\t\t\t\t\t\t<image :src=\"UserInfoIcon\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">个人信息</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/PasswordEdit')\">\n\t\t\t\t\t\t\t<image :src=\"PasswordEditIcon\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">密码修改</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<!-- <view class=\"menu-item\" @click=\"navigateTo('/pages/Front/MyHealthArticleLis')\"> -->\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/MyHealthArticleList')\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<image :src=\"HealthKnowledge\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">我的健康知识</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/MyRecipeList')\">\n\t\t\t\t\t\t\t<image :src=\"MyRecipes\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">我的食谱</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/CollectRecordList')\">\n\t\t\t\t\t\t\t<image :src=\"MyCollect\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">收藏记录</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/LikeRecordList')\">\n\t\t\t\t\t\t\t<image :src=\"MyLike\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">点赞记录</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t\t<uni-grid-item>\n\t\t\t\t\t\t<view class=\"menu-item\" @click=\"navigateTo('/pages/Front/WeChatBind')\">\n\t\t\t\t\t\t\t<image :src=\"WeChatBindIcon\" class=\"menu-icon\"></image>\n\t\t\t\t\t\t\t<text class=\"menu-text\">微信绑定</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-grid-item>\n\t\t\t\t</uni-grid>\n\t\t\t</uni-card>\n\t\t</view>\n\n\t\t<!-- 退出按钮 -->\n\t\t<button class=\"logout-button\" @click=\"logout\">退出</button>\n\n\t\t<footer-bar/>\n\t</view>\n</template>\n\n<script setup>\nimport MyLike from '@/assets/点赞.png'\nimport MyCollect from '@/assets/收藏.png'\nimport MyRecipes from '@/assets/食谱.png'\nimport HealthKnowledge from '@/assets/健康知识.png';\nimport UserInfoIcon from '@/assets/个人信息.png';\nimport PasswordEditIcon from '@/assets/密码修改.png';\nimport userInfoIcon from '@/assets/默认头像.png';\nimport WeChatBindIcon from '@/assets/wx.png';\nimport { useCommonStore } from '@/store';\nimport { computed, ref } from 'vue';\n\nimport { onLoad } from \"@dcloudio/uni-app\";\n\nconst commonStore = useCommonStore()\nconst defaultHeadImage = ref(userInfoIcon)\n\nconst Token = computed(() => commonStore.Token)\nconst UserInfo = computed(() => commonStore.UserInfo)\nconst RoleType = computed(() => commonStore.RoleType)\nconst UserId = computed(() => commonStore.UserId)\n\n// 页面加载时获取用户信息\nonLoad(() => {\n\tif (commonStore.CheckIsLogin()) {\n\t\tsetTimeout(() => {\n\t\t\tgetUserInfo()\n\t\t}, 100)\n\t}\n})\n\n// 方法定义\nconst getUserInfo = async () => {\n\tawait commonStore.GetInfo()\n}\n\nconst logout = () => {\n\tcommonStore.Logout()\n}\n\nconst navigateTo = (url) => {\n\tuni.navigateTo({\n\t\turl: url\n\t})\n}\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n/* 用户信息卡片样式 */\n.user-info-card {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30rpx 40rpx;\n\tbackground-color: #fff;\n\tmargin-bottom: 20rpx;\n\tborder-radius: 0 0 20rpx 20rpx;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.user-avatar-container {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.user-avatar {\n\twidth: 120rpx;\n\theight: 120rpx;\n\tborder-radius: 60rpx;\n\tborder: 4rpx solid #f5f5f5;\n}\n\n.user-details {\n\tmargin-left: 24rpx;\n}\n\n.user-name {\n\tfont-size: 40rpx;\n\tfont-weight: 600;\n\tcolor: #333;\n\tmargin-bottom: 8rpx;\n}\n\n.user-role {\n\tfont-size: 26rpx;\n\tcolor: #fff;\n\tbackground-color: var(--primary-color);\n\tpadding: 4rpx 16rpx;\n\tborder-radius: 20rpx;\n\tdisplay: inline-block;\n}\n\n.arrow-icon {\n\twidth: 16rpx;\n\theight: 16rpx;\n\tborder-top: 3rpx solid #a9acb3;\n\tborder-right: 3rpx solid #a9acb3;\n\ttransform: rotate(45deg);\n}\n\n/* 功能菜单区域样式 */\n.function-menu-section {\n\tmargin-top: 20rpx;\n\tborder-radius: 20rpx;\n\toverflow: hidden;\n}\n\n.section-header {\n\tpadding: 20rpx 0;\n}\n\n.menu-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 20rpx 0;\n}\n\n.menu-icon {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tmargin-bottom: 16rpx;\n}\n\n.menu-text {\n\tfont-size: 28rpx;\n\tcolor: #666;\n}\n\n/* 退出按钮样式 */\n.logout-button {\n\twidth: 90%;\n\theight: 90rpx;\n\tline-height: 90rpx;\n\tmargin: 60rpx auto;\n\tbackground-color: var(--primary-color);\n\tcolor: #fff;\n\tfont-size: 32rpx;\n\tfont-weight: 500;\n\tborder-radius: 45rpx;\n}\n\n/* 底部间距 */\n.bottom-spacer {\n\theight: 200rpx;\n}\n\n/* 微信绑定状态样式 */\n.user-openid-container {\n\tmargin-top: 8rpx;\n}\n\n.user-openid {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 4rpx 12rpx;\n\tborder-radius: 16rpx;\n\tdisplay: inline-flex;\n}\n\n.user-openid.bound {\n\tbackground-color: #e8f5e8;\n\tborder: 1rpx solid #52c41a;\n}\n\n.user-openid.unbound {\n\tbackground-color: #fff2f0;\n\tborder: 1rpx solid #ff7875;\n}\n\n.status-dot {\n\twidth: 12rpx;\n\theight: 12rpx;\n\tborder-radius: 50%;\n\tmargin-right: 8rpx;\n}\n\n.bound-dot {\n\tbackground-color: #52c41a;\n}\n\n.unbound-dot {\n\tbackground-color: #ff7875;\n}\n\n.status-text {\n\tfont-size: 24rpx;\n\tfont-weight: 500;\n}\n\n.bound .status-text {\n\tcolor: #389e0d;\n}\n\n.unbound .status-text {\n\tcolor: #cf1322;\n}\n\n</style>","import MiniProgramPage from 'F:/workspace/HealthControl.uniapp/pages/Front/UserCenter.vue'\nwx.createPage(MiniProgramPage)"],"names":["useCommonStore","ref","userInfoIcon","computed","onLoad","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwGA,UAAM,cAAcA,YAAAA,eAAgB;AACpC,UAAM,mBAAmBC,cAAG,IAACC,0BAAY;AAE3BC,kBAAAA,SAAS,MAAM,YAAY,KAAK;AAC9C,UAAM,WAAWA,cAAQ,SAAC,MAAM,YAAY,QAAQ;AACnCA,kBAAAA,SAAS,MAAM,YAAY,QAAQ;AACrCA,kBAAAA,SAAS,MAAM,YAAY,MAAM;AAGhDC,kBAAAA,OAAO,MAAM;AACZ,UAAI,YAAY,gBAAgB;AAC/B,mBAAW,MAAM;AAChB,sBAAa;AAAA,QACb,GAAE,GAAG;AAAA,MACN;AAAA,IACF,CAAC;AAGD,UAAM,cAAc,YAAY;AAC/B,YAAM,YAAY,QAAS;AAAA,IAC5B;AAEA,UAAM,SAAS,MAAM;AACpB,kBAAY,OAAQ;AAAA,IACrB;AAEA,UAAM,aAAa,CAAC,QAAQ;AAC3BC,oBAAAA,MAAI,WAAW;AAAA,QACd;AAAA,MACF,CAAE;AAAA,IACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIA,GAAG,WAAW,eAAe;"}