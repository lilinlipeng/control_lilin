{"version":3,"file":"HealthNoticeForm.js","sources":["pages/Front/HealthNoticeForm.vue","../../HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvRnJvbnQvSGVhbHRoTm90aWNlRm9ybS52dWU"],"sourcesContent":["<template>\n    <view>\n        <!-- 顶部导航栏 -->\n        <uni-nav-bar dark :fixed=\"true\" shadow background-color=\"var(--primary-color)\" status-bar left-icon=\"left\"\n            left-text=\"返回\" @clickLeft=\"goBack\" title=\"健康提醒信息\" />\n\n        <!-- 主体内容 -->\n        <view class=\"page-container\">\n            <view class=\"form-wrapper\">\n                <!-- 表单标题 -->\n                <view class=\"form-title\">\n                    <text class=\"title-text\">创建健康提醒</text>\n                    <text class=\"subtitle-text\">设置个性化的健康提醒计划</text>\n                </view>\n\n                <!-- 表单内容 -->\n                <uni-forms ref=\"editModalForm\" :model=\"formData\" :rules=\"editModalFormRules\" label-width='100'\n                    label-position='top' class=\"custom-form\">\n\n                    <!-- 提醒标题 -->\n                    <view class=\"form-item-wrapper\">\n                        <uni-forms-item label=\"提醒标题\" required name=\"Title\" class=\"custom-form-item\">\n                            <uni-easyinput v-model=\"formData.Title\" placeholder=\"请输入提醒标题\"\n                                primaryColor=\"var(--primary-color)\" class=\"custom-input\" />\n                        </uni-forms-item>\n                    </view>\n\n                    <!-- 提醒内容 -->\n                    <view class=\"form-item-wrapper\">\n                        <uni-forms-item label=\"提醒内容\" required name=\"Content\" class=\"custom-form-item\">\n                            <uni-easyinput type=\"textarea\" v-model=\"formData.Content\" placeholder=\"请输入提醒内容\"\n                                primaryColor=\"var(--primary-color)\" class=\"custom-textarea\" />\n                        </uni-forms-item>\n                    </view>\n\n\n                    <!-- 提醒时间 -->\n                    <view class=\"form-item-wrapper\">\n                        <uni-forms-item label=\"提醒时间\" required name=\"RemindTime\" class=\"custom-form-item\">\n                            <uni-datetime-picker type=\"datetime\" return-type=\"string\" v-model=\"formData.RemindTime\"\n                                primaryColor=\"var(--primary-color)\" class=\"custom-datetime\" />\n                        </uni-forms-item>\n                    </view>\n\n                    <!-- 提醒方式 -->\n                    <view class=\"form-item-wrapper\">\n                        <uni-forms-item label=\"提醒方式\" required name=\"RemindType\" class=\"custom-form-item\">\n                            <uni-data-picker v-model=\"formData.RemindType\" :localdata=\"[{ text: '邮件', value: '邮件' }]\"\n                                class=\"custom-picker\" />\n                        </uni-forms-item>\n                    </view>\n                </uni-forms>\n\n                <!-- 提交按钮 -->\n                <view class=\"button-wrapper\">\n                    <button class=\"submit-button\" @click=\"createOrEditAsync\">\n                        <text class=\"button-text\">创建提醒</text>\n                    </button>\n                </view>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script setup>\n\nimport { useCommonStore } from '@/store';\nimport { Post } from \"@/utils/http\";\nimport { onLoad, onReady, onShow } from \"@dcloudio/uni-app\";\nimport { computed, nextTick, reactive, ref } from 'vue';\n\n// 获取store\nconst commonStore = useCommonStore();\nconst Token = computed(() => commonStore.Token)\nconst UserInfo = computed(() => commonStore.UserInfo)\nconst RoleType = computed(() => commonStore.RoleType)\nconst UserId = computed(() => commonStore.UserId)\n\n\n// 表单数据和规则\nconst formData = reactive({\n});\nconst editModalForm = ref(null);\n\nconst Id = ref(null);\nconst editModalFormRules = {\n    Title: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    PublishUserId: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    Num: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    RemindTime: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    IsRemind: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    Content: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n    RemindType: {\n        rules: [\n            {\n                required: true,\n                errorMessage: '该项为必填项'\n            },\n\n        ]\n    },\n};\n\n\n\n// 生命周期钩子\nonLoad(async (option) => {\n    Id.value = option.Id;\n    ShowEditModal(Id.value);\n\n\n});\n\nonShow(async () => {\n    // 页面显示时的逻辑\n});\n\nonReady(async () => {\n\n\n});\n\n// 显示编辑对话框\nconst ShowEditModal = async (Id) => {\n\n    const { Data } = await Post(`/HealthNotice/Get`, { Id: Id });\n    if (!Id) {\n        Data.IsRemind = false;\n        Data.PublishUserId = UserId.value;\n        Data.Num = 1;\n    }\n    Object.assign(formData, Data);\n\n\n\n\n    nextTick(() => {\n        // 设置自定义表单校验规则，必须在节点渲染完毕后执行\n        editModalForm.value.setRules(editModalFormRules);\n    });\n};\n\n// 方法\nconst goBack = () => {\n    uni.navigateBack();\n};\n\n//地址选择回调\nconst AddressSelected = (data) => {\n    formData.Address = data.fullAddress;\n\n};\n\n// 创建或修改方法\nconst createOrEditAsync = async () => {\n    editModalForm.value.validate().then(res => {\n        uni.showModal({\n            title: \"提示\",\n            content: \"你确定要操作吗?\",\n            showCancel: true,\n            cancelText: \"取消\",\n            confirmText: \"确定\",\n            success: async (res) => {\n                if (res.confirm) {\n                    let { Data, Success } = await Post(\"/HealthNotice/CreateOrEdit\", formData);\n                    if (Success) {\n                        uni.showToast({\n                            title: \"操作成功\",\n                            icon: \"success\"\n                        });\n\n                        uni.navigateBack();\n                    }\n                }\n            }\n        });\n\n    }).catch(err => {\n        uni.showToast({\n            title: \"请检测输入项是否正确\",\n            icon: \"none\"\n        });\n\n    });\n\n\n};\n</script>\n\n<style scoped lang=\"scss\">\n/* 页面容器 */\n.page-container {\n    padding: 10upx 30upx 30upx; // 顶部留出导航栏空间\n    min-height: 100vh;\n    background: linear-gradient(180deg, #f8f9fa 0%, #ffffff 100%);\n}\n\n/* 表单外包装 */\n.form-wrapper {\n    background: #ffffff;\n    border-radius: 20upx;\n    padding: 40upx 30upx;\n    box-shadow: 0 4upx 20upx rgba(0, 0, 0, 0.08);\n    margin-bottom: 30upx;\n}\n\n/* 表单标题区域 */\n.form-title {\n    text-align: center;\n    margin-bottom: 60upx;\n\n    .title-text {\n        display: block;\n        font-size: 36upx;\n        font-weight: 600;\n        color: #2c3e50;\n        margin-bottom: 16upx;\n    }\n\n    .subtitle-text {\n        display: block;\n        font-size: 26upx;\n        color: #7f8c8d;\n        line-height: 1.4;\n    }\n}\n\n/* 自定义表单样式 */\n.custom-form {\n    .form-item-wrapper {\n        margin-bottom: 40upx;\n\n        &:last-child {\n            margin-bottom: 20upx;\n        }\n    }\n}\n\n/* 表单项样式 */\n.custom-form-item {\n\n    /* 标签样式 */\n    :deep(.uni-forms-item__label) {\n        font-size: 30upx !important;\n        color: #34495e !important;\n        font-weight: 500 !important;\n        margin-bottom: 20upx !important;\n        padding: 0 !important;\n    }\n\n    /* 必填星号样式 */\n    :deep(.is-required:before) {\n        color: #e74c3c !important;\n        margin-right: 8upx !important;\n    }\n}\n\n/* 输入框样式 */\n.custom-input {\n    :deep(.uni-easyinput__content) {\n        background: #f8f9fa !important;\n        border: 2upx solid #e9ecef !important;\n        border-radius: 16upx !important;\n        padding: 24upx 20upx !important;\n        transition: all 0.3s ease !important;\n\n        &:focus-within {\n            border-color: var(--primary-color) !important;\n            background: #ffffff !important;\n            box-shadow: 0 0 0 6upx rgba(52, 152, 219, 0.1) !important;\n        }\n    }\n\n    :deep(.uni-easyinput__content-input) {\n        font-size: 28upx !important;\n        color: #2c3e50 !important;\n\n        &::placeholder {\n            color: #95a5a6 !important;\n        }\n    }\n}\n\n/* 文本域样式 */\n.custom-textarea {\n    :deep(.uni-easyinput__content) {\n        background: #f8f9fa !important;\n        border: 2upx solid #e9ecef !important;\n        border-radius: 16upx !important;\n        padding: 24upx 20upx !important;\n        min-height: 120upx !important;\n        transition: all 0.3s ease !important;\n\n        &:focus-within {\n            border-color: var(--primary-color) !important;\n            background: #ffffff !important;\n            box-shadow: 0 0 0 6upx rgba(52, 152, 219, 0.1) !important;\n        }\n    }\n\n    :deep(.uni-easyinput__content-textarea) {\n        font-size: 28upx !important;\n        color: #2c3e50 !important;\n        line-height: 1.6 !important;\n\n        &::placeholder {\n            color: #95a5a6 !important;\n        }\n    }\n}\n\n/* 数字输入框样式 */\n.custom-number-box {\n    :deep(.uni-numbox) {\n        background: #f8f9fa;\n        border: 2upx solid #e9ecef;\n        border-radius: 16upx;\n        overflow: hidden;\n        height: 80upx;\n    }\n\n    :deep(.uni-numbox__minus),\n    :deep(.uni-numbox__plus) {\n        background: #ffffff !important;\n        border: none !important;\n        color: var(--primary-color) !important;\n        font-weight: 600 !important;\n        width: 60upx !important;\n        height: 76upx !important;\n        line-height: 76upx !important;\n\n        &:active {\n            background: #f8f9fa !important;\n        }\n    }\n\n    :deep(.uni-numbox__value) {\n        background: #ffffff !important;\n        border: none !important;\n        color: #2c3e50 !important;\n        font-size: 28upx !important;\n        text-align: center !important;\n        height: 76upx !important;\n        line-height: 76upx !important;\n    }\n}\n\n/* 日期时间选择器样式 */\n.custom-datetime {\n    :deep(.uni-date-x) {\n        background: #f8f9fa !important;\n        border: 2upx solid #e9ecef !important;\n        border-radius: 16upx !important;\n        padding: 24upx 20upx !important;\n        height: auto !important;\n\n        .uni-date-x__input {\n            font-size: 28upx !important;\n            color: #2c3e50 !important;\n        }\n    }\n}\n\n/* 数据选择器样式 */\n.custom-picker {\n    :deep(.uni-data-picker) {\n        background: #f8f9fa;\n        border: 2upx solid #e9ecef;\n        border-radius: 16upx;\n        padding: 24upx 20upx;\n\n        .input-value {\n            font-size: 28upx !important;\n            color: #2c3e50 !important;\n        }\n\n        .placeholder {\n            color: #95a5a6 !important;\n        }\n    }\n}\n\n/* 按钮容器 */\n.button-wrapper {\n    margin-top: 60upx;\n    padding: 0 20upx;\n}\n\n/* 提交按钮样式 */\n.submit-button {\n    width: 100%;\n    height: 88upx;\n    background: var(--primary-color);\n    border: none;\n    border-radius: 16upx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 8upx 20upx rgba(52, 152, 219, 0.3);\n    transition: all 0.3s ease;\n\n    &:active {\n        transform: translateY(2upx);\n        box-shadow: 0 4upx 12upx rgba(52, 152, 219, 0.4);\n        background: #2980b9;\n    }\n\n    .button-text {\n        font-size: 32upx;\n        color: #ffffff;\n        font-weight: 600;\n        letter-spacing: 2upx;\n    }\n}\n\n/* 响应式适配 */\n@media (max-width: 750upx) {\n    .page-container {\n        padding: 100upx 20upx 20upx;\n    }\n\n    .form-wrapper {\n        padding: 30upx 20upx;\n        border-radius: 16upx;\n    }\n\n    .form-title {\n        margin-bottom: 40upx;\n\n        .title-text {\n            font-size: 32upx;\n        }\n\n        .subtitle-text {\n            font-size: 24upx;\n        }\n    }\n\n    .custom-form .form-item-wrapper {\n        margin-bottom: 30upx;\n    }\n}\n</style>","import MiniProgramPage from 'F:/workspace/HealthControl.uniapp/pages/Front/HealthNoticeForm.vue'\nwx.createPage(MiniProgramPage)"],"names":["useCommonStore","computed","reactive","ref","onLoad","onShow","onReady","Id","Post","nextTick","uni","res"],"mappings":"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"}