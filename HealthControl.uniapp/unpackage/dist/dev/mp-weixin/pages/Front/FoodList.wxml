<view class="food-list-container data-v-05c655f0"><uni-nav-bar wx:if="{{b}}" class="data-v-05c655f0" bindclickLeft="{{a}}" u-i="05c655f0-0" bind:__l="__l" u-p="{{b}}"/><view class="content-wrapper data-v-05c655f0"><view class="category-menu data-v-05c655f0"><scroll-view class="category-scroll data-v-05c655f0" scroll-y><view wx:for="{{c}}" wx:for-item="category" wx:key="b" class="{{['category-item', 'data-v-05c655f0', category.c && 'active']}}" bindtap="{{category.d}}"><text class="category-name data-v-05c655f0">{{category.a}}</text></view></scroll-view></view><view class="food-content data-v-05c655f0"><scroll-view class="food-scroll data-v-05c655f0" scroll-y bindscroll="{{e}}" scroll-top="{{f}}" scroll-with-animation="{{true}}"><view wx:for="{{d}}" wx:for-item="category" wx:key="c" id="{{category.d}}" class="food-category-section data-v-05c655f0"><view class="category-title data-v-05c655f0"><text class="title-text data-v-05c655f0">{{category.a}}</text></view><view class="food-list data-v-05c655f0"><view wx:for="{{category.b}}" wx:for-item="food" wx:key="i" class="food-item data-v-05c655f0" bindtap="{{food.j}}"><view class="food-image data-v-05c655f0"><image src="{{food.a}}" mode="aspectFill" class="food-cover data-v-05c655f0"/></view><view class="food-info data-v-05c655f0"><view class="food-name data-v-05c655f0">{{food.b}}</view><view class="food-nutrition data-v-05c655f0"><text class="nutrition-item data-v-05c655f0">热量: {{food.c}}kcal/1g</text><text class="nutrition-item data-v-05c655f0">蛋白质: {{food.d}}g</text><text class="nutrition-item data-v-05c655f0">碳水: {{food.e}}g</text><text class="nutrition-item data-v-05c655f0">脂肪: {{food.f}}g</text></view><view wx:if="{{food.g}}" class="food-units data-v-05c655f0"><text class="units-label data-v-05c655f0">常见单位：</text><view class="units-list data-v-05c655f0"><view wx:for="{{food.h}}" wx:for-item="unit" wx:key="c" class="unit-item data-v-05c655f0" catchtap="{{unit.d}}"><text class="unit-name data-v-05c655f0">{{unit.a}}</text><text class="unit-calories data-v-05c655f0">({{unit.b}}kcal)</text></view></view></view></view></view></view></view></scroll-view></view></view><uni-popup wx:if="{{F}}" class="r data-v-05c655f0" u-s="{{['d']}}" u-r="portionPopup" u-i="05c655f0-1" bind:__l="__l" u-p="{{F}}"><view wx:if="{{g}}" class="portion-input-popup data-v-05c655f0"><view class="portion-header data-v-05c655f0"><text class="portion-title data-v-05c655f0">🍽️ 添加食物记录</text><view class="portion-close data-v-05c655f0" bindtap="{{i}}"><uni-icons wx:if="{{h}}" class="data-v-05c655f0" u-i="05c655f0-2,05c655f0-1" bind:__l="__l" u-p="{{h}}"></uni-icons></view></view><view class="portion-content data-v-05c655f0"><view class="food-summary data-v-05c655f0"><image src="{{j}}" mode="aspectFill" class="summary-image data-v-05c655f0"/><view class="summary-info data-v-05c655f0"><text class="summary-name data-v-05c655f0">{{k}}</text><text class="summary-unit data-v-05c655f0">单位: {{l}} ({{m}}g)</text></view></view><view class="input-section data-v-05c655f0"><text class="input-label data-v-05c655f0">🥄 请输入分量</text><view class="input-wrapper data-v-05c655f0"><uni-easyinput wx:if="{{p}}" class="data-v-05c655f0" bindinput="{{n}}" u-i="05c655f0-3,05c655f0-1" bind:__l="__l" bindupdateModelValue="{{o}}" u-p="{{p}}"/><text class="input-unit data-v-05c655f0">{{q}}</text></view></view><view wx:if="{{r}}" class="calculated-nutrition data-v-05c655f0"><text class="nutrition-title data-v-05c655f0">📊 营养成分预览</text><view class="nutrition-cards data-v-05c655f0"><view class="nutrition-card data-v-05c655f0"><text class="card-label data-v-05c655f0">热量</text><text class="card-value data-v-05c655f0">{{s}}kcal</text></view><view class="nutrition-card data-v-05c655f0"><text class="card-label data-v-05c655f0">蛋白质</text><text class="card-value data-v-05c655f0">{{t}}g</text></view><view class="nutrition-card data-v-05c655f0"><text class="card-label data-v-05c655f0">碳水</text><text class="card-value data-v-05c655f0">{{v}}g</text></view><view class="nutrition-card data-v-05c655f0"><text class="card-label data-v-05c655f0">脂肪</text><text class="card-value data-v-05c655f0">{{w}}g</text></view></view></view><view class="time-section data-v-05c655f0"><text class="time-label data-v-05c655f0">⏰ 记录时间</text><uni-datetime-picker wx:if="{{A}}" class="data-v-05c655f0" u-s="{{['d']}}" u-i="05c655f0-4,05c655f0-1" bind:__l="__l" bindupdateModelValue="{{z}}" u-p="{{A}}"><view class="time-display data-v-05c655f0"><text class="time-text data-v-05c655f0">{{x}}</text><uni-icons wx:if="{{y}}" class="data-v-05c655f0" u-i="05c655f0-5,05c655f0-4" bind:__l="__l" u-p="{{y}}"></uni-icons></view></uni-datetime-picker></view><view class="action-buttons data-v-05c655f0"><view class="cancel-btn data-v-05c655f0" bindtap="{{B}}"><text class="btn-text data-v-05c655f0">取消</text></view><view bindtap="{{C}}" class="{{['save-btn', 'data-v-05c655f0', D && 'disabled']}}"><text class="btn-text data-v-05c655f0">💾 保存记录</text></view></view></view></view></uni-popup><uni-popup wx:if="{{S}}" class="r data-v-05c655f0" u-s="{{['d']}}" u-r="foodPopup" u-i="05c655f0-6" bind:__l="__l" u-p="{{S}}"><view wx:if="{{G}}" class="food-detail-popup data-v-05c655f0"><view class="popup-header data-v-05c655f0"><text class="popup-title data-v-05c655f0">{{H}}</text><view class="close-btn data-v-05c655f0" bindtap="{{J}}"><uni-icons wx:if="{{I}}" class="data-v-05c655f0" u-i="05c655f0-7,05c655f0-6" bind:__l="__l" u-p="{{I}}"></uni-icons></view></view><view class="popup-content data-v-05c655f0"><image src="{{K}}" mode="aspectFill" class="popup-image data-v-05c655f0"/><view class="nutrition-detail data-v-05c655f0"><text class="detail-title data-v-05c655f0">营养成分 (每1g)</text><view class="nutrition-grid data-v-05c655f0"><view class="nutrition-cell data-v-05c655f0"><text class="cell-label data-v-05c655f0">热量</text><text class="cell-value data-v-05c655f0">{{L}}kcal</text></view><view class="nutrition-cell data-v-05c655f0"><text class="cell-label data-v-05c655f0">蛋白质</text><text class="cell-value data-v-05c655f0">{{M}}g</text></view><view class="nutrition-cell data-v-05c655f0"><text class="cell-label data-v-05c655f0">碳水化合物</text><text class="cell-value data-v-05c655f0">{{N}}g</text></view><view class="nutrition-cell data-v-05c655f0"><text class="cell-label data-v-05c655f0">脂肪</text><text class="cell-value data-v-05c655f0">{{O}}g</text></view></view></view><view wx:if="{{P}}" class="unit-selection data-v-05c655f0"><text class="detail-title data-v-05c655f0">选择单位</text><view class="unit-options data-v-05c655f0"><view wx:for="{{Q}}" wx:for-item="unit" wx:key="d" class="unit-option data-v-05c655f0" bindtap="{{unit.e}}"><view class="unit-info data-v-05c655f0"><text class="unit-main data-v-05c655f0">{{unit.a}}</text><text class="unit-weight data-v-05c655f0">({{unit.b}}g)</text></view><view class="unit-nutrition data-v-05c655f0"><text class="unit-cal data-v-05c655f0">{{unit.c}}kcal</text></view></view></view></view></view></view></uni-popup></view>